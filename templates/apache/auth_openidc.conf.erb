# File managed by Puppet - do not edit !
#
OIDCMetadataDir      /opt/rh/httpd24/root/etc/httpd/metadata
OIDCDiscoverURL      https://<%= scope['openondemand::servername'] %><%= scope['openondemand::oidc_discover_uri'] %>
OIDCRedirectURI      https://<%= scope['openondemand::servername'] %><%= scope['openondemand::oidc_uri'] %>
OIDCCryptoPassphrase "<%= scope['openondemand::oidc_crypto_passphrase'] %>"

# Keep sessions alive for 8 hours
OIDCSessionInactivityTimeout 28800
OIDCSessionMaxDuration 28800

<%- if scope['openondemand::oidc_remote_user_claim'] -%>
# Set REMOTE_USER
OIDCRemoteUserClaim <%= scope['openondemand::oidc_remote_user_claim'] %>

<%- end -%>
# Don't pass claims to backend servers
OIDCPassClaimsAs environment

# Strip out session cookies before passing to backend
OIDCStripCookies mod_auth_openidc_session mod_auth_openidc_session_chunks mod_auth_openidc_session_0 mod_auth_openidc_session_1
